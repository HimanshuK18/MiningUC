<div class="row" ng-controller="ContractController">
    <div id='divtable' class="col-md-12" style="overflow-x:auto;height:450px;">
        
        <table class="table table-responsive" style="margin-left:22%;width:77%;margin-top:5px;height:60%;overflow-x:auto;">
            <thead>
                <tr style="border-top:2px solid rgb(77, 76, 76);">
                    <th class="col-md-3 tableheader">
                        <span>Contract ID </span>
                    </th>
                    <th class="col-md-3 tableheader">
                        <span>Contractor</span>
                    </th>
                    <th class="col-md-3 tableheader">
                        <span>Contract Tranaction</span>
                    </th>
                    <th class="col-md-2 tableheader">
                        <span>Contract Status</span>
                    </th>
                    <th class="col-md-1 tableheader">
                        <span>Report</span>
                    </th>

                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="Contract in Contractlist" style="cursor:pointer;" class="tablerow">
                    <td class="tablecell">{{Contract.contractdata.cid}}</td>
                    <td class="tablecell">{{Contract.ContractorName}}</td>
                    <td class="tablecell">{{Contract.TranactionCode}}</td>
                    <td class="tablecell">{{Contract.contractdata.cid}}</td>
                    <td>
                    <button class="btn buttonm" ng-click="CreateReportCompany(Contract._id)" style="margin-top: 10px;" ng-disabled="Contract.statusvalue != 7">Report</button>
                </td>
                </tr>
            </tbody>
        </table>
        <div>
            <button class="btn buttonm" ng-click="CreateContract()" style="margin-top: 10px;margin-left:50%;">Create</button>
        </div>
    </div>
    <div id='divContractData' class="col-md-12" style="margin-left:20%;width:80%;margin-top:10px;">
        <div class="col-md-12" style="width:100%;border-bottom:1px solid grey;">
            <span style="color:rgba(255, 255, 255, 0.582);font-size:20px;font-weight:bold;">Create the Contract</span>
        </div>
        <div class="col-md-12" style="width:100%;border-top:1px solid grey;margin-top:3px;">
            <form style="margin-top:10px;" name='contractform'>
                <table class="col-lg-12 col-md-12 table table-responsive" id="UserInputContract" style="border-collapse: separate;border-spacing: 10px 3px;width:100%;">
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Mineral through out from Mine to Mill process</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan" style="font-weight:bold;">Zinc</span>
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Contract Number</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="cid" type="text" ng-model="Contract.cid" id="cid" required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Range of Ore Grade % throughout Mine To Mill Process</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="rangeoregrade" type="number" ng-model="Contract.rangeoregrade" id="rangeoregrade" required
                            />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Sample Size (Grams)
                            </span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="samplesize" type="number" ng-model="Contract.samplesize" id="samplesize" required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Blast Tonnage Should be Minimum (Tons)
                            </span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="blasttonnage" type="number" ng-model="Contract.blasttonnage" id="blasttonnage" required/>
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Dilution (%) during Blasting, Excavation & Stockpile Activity
                            </span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="dilution" type="number" ng-model="Contract.dilution" id="dilution" required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Excavation Tonnage  </span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="excavationtonnage" type="number" ng-model="Contract.excavationtonnage" id="excavationtonnage"
                                required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Tonnage Transported to Stockpile</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="tonnagetransported" type="number" ng-model="Contract.tonnagetransported" id="tonnagetransported"
                                required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Assigned to Contractor</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <select class="textboxstyle" ng-model="Contract.contractor" name="contractor" required style="width:205px;height:30px;">
                                <option ng-repeat="contractor in ContractorList" value="{{contractor._id}}">{{contractor.organisation}}</option>
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Truck Trips to Stockpile</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="mininumtripsloaded" type="number" ng-model="Contract.mininumtripsloaded" id="mininumtripsloaded"
                                required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Tonnage Transported to Crusher </span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="mininumtonnagecrusher" type="number" ng-model="Contract.mininumtonnagecrusher" id="mininumtonnagecrusher"
                                required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Minimum Truck Trips to Crusher</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="mininumtripscrusher" type="number" ng-model="Contract.mininumtripscrusher" id="mininumtripscrusher"
                                required />
                        </td>
                    </tr>
                    <tr class="tablerow">
                        <td class="col-lg-6 col-md-6 col-lg-6 col-md-6 labelstyle">
                            <span class="labelstylespan">Adherence to Safety  (Zero harm)</span>
                        </td>
                        <td class="col-lg-6 col-md-6 labelstyle">
                            <input class="textboxstyle" name="adherencetosafety" type="number" ng-model="Contract.adherencetosafety" id="adherencetosafety"
                                required />
                        </td>
                    </tr>
                </table>
                <div style="width:50%;float: left;margin-bottom:20px;">
                    <button class="btn buttonm" ng-click="SaveContract(contractform)" style="margin-top: 20px;margin-left:50%;">Save</button>
                </div>
                <div style="width:50%;float: right;">
                    <button class="btn buttonm" ng-click="CancelContract()" style="margin-top:20px;" formnovalidate>Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="divtablereport" class="col-md-12" style="width:77%;overflow-x:auto;height:445px;position: absolute;margin-top:12%;margin-left:19%;">
        <div style="color:#FFD801;opacity:.9;font-weight:bold;font-size:17px;margin-left:8%;"> Contractual Aggrement Terms & Condition between Mining Company and Mining Contractor					
        </div>
        <table class="table table-responsive" style="margin-left:20%;width:57%;margin-top:15px;">
            <thead>
                <tr style="border-top:2px solid rgb(77, 76, 76);">
                    <th class="col-md-2 tableheader">
                        <span>S No.</span>
                    </th>
                    <th class="col-md-7 tableheader">
                        <span>Condition</span>
                    </th>
                    <th class="col-md-3 tableheader">
                        <span>Outcome</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr style="cursor:pointer;background-color:rgba(250, 250, 0, 0.24);" class="tablerow" ng-repeat="report in ReportData">
                    <td style="padding:4px;font-weight:bold;text-align:center;">{{$index + 1}}</td>
                    <td class="tablecell" style="padding:4px;font-weight:bold;text-align:left;">
                        <span>{{report.label}}</span>
                    </td>
                    <td style="padding:4px;text-align: center;">
                        <div ng-show="report.output != 'HIGH' && report.output != 'LOW' && report.output != 'MEDIUM'">
                            <i ng-show="report.output" class="fa fa-check-square fa-2x text-center" aria-hidden="true" ng-style="{ color: report.output == true ? 'green' : 'red' }"></i>
                            <i ng-show="!report.output" class="fa fa-window-close fa-2x text-center" aria-hidden="true" ng-style="{ color: report.output == true ? 'green' : 'red' }"></i>
                        </div>
                        <span ng-show="report.output == 'HIGH' || report.output == 'LOW' || report.output == 'MEDIUM'">{{report.output}}</span>
                    </td>
                </tr>
            </tbody>
        </table>
        <br>
        <br>
        <div style="color:#FFD801;opacity:.9;font-weight:bold;font-size:17px;margin-left:38%;">Reconciliation Details
        </div>
        <table class="table table-responsive" style="margin-left:20%;width:57%;margin-top:15px;">
            <thead>
                <tr style="border-top:2px solid rgb(77, 76, 76);">
                    <th class="col-md-2 tableheader">
                        <span>S No.</span>
                    </th>
                    <th class="col-md-7 tableheader">
                        <span>Condition</span>
                    </th>
                    <th class="col-md-3 tableheader">
                        <span>Outcome</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr style="cursor:pointer;background-color:rgba(250, 250, 0, 0.24);" class="tablerow" ng-repeat="report in ReportDataReconcilitaion">
                    <td style="padding:4px;font-weight:bold;text-align:center;">{{$index + 1}}</td>
                    <td class="tablecell" style="padding:4px;font-weight:bold;text-align:left;">
                        <span>{{report.label}}</span>
                    </td>
                    <td style="padding:4px;text-align: center;">
                        <div ng-show="report.output != 'HIGH' && report.output != 'LOW' && report.output != 'MEDIUM'">
                            <i ng-show="report.output" class="fa fa-check-square fa-2x text-center" aria-hidden="true" ng-style="{ color: report.output == true ? 'green' : 'red' }"></i>
                            <i ng-show="!report.output" class="fa fa-window-close fa-2x text-center" aria-hidden="true" ng-style="{ color: report.output == true ? 'green' : 'red' }"></i>
                        </div>
                        <span ng-show="report.output == 'HIGH' || report.output == 'LOW' || report.output == 'MEDIUM'">{{report.output}}</span>
                    </td>
                </tr>
            </tbody>
        </table>
        <div>
            <button class="btn buttonm" ng-click="CancelReport()" style="margin-top:20px;margin-left:40%;margin-bottom:20px;" formnovalidate>Close</button>
            
        </div>
    </div>
</div>